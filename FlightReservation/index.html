<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Réservation de vols</title>
    <meta property="og:description" content="Découvrez le programme de la section informatique ainsi que les travaux des élèves">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ARA - Section informatique">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#ffffff">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="description" content="Découvrez le programme de la section informatique ainsi que les travaux des élèves">
    <meta property="og:image" content="../assets/img/OGImage.png">
    <meta name="twitter:image" content="../assets/img/OGImage.png">
    <meta name="twitter:description" content="Découvrez le programme de la section informatique ainsi que les travaux des élèves">
    <meta property="og:title" content="ARA - Section informatique">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/img/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="180x180" href="../assets/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../assets/img/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="../assets/img/android-chrome-512x512.png">
    <link rel="stylesheet" href="../assets/bootstrap/css/bootstrap.min.css">
    <link rel="manifest" href="../manifest.json">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700">
    <link rel="stylesheet" href="../assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="../assets/css/2-columns-media-image-video-carousel-map.css">
    <link rel="stylesheet" href="../assets/css/Animated-Scroll-Down-Mouse.css">
    <link rel="stylesheet" href="../assets/css/Bold-BS4-Animated-Back-To-Top.css">
    <link rel="stylesheet" href="../assets/css/Circle-Nav.css">
    <link rel="stylesheet" href="../assets/css/Contact-Form-Clean.css">
    <link rel="stylesheet" href="../assets/css/dh-card-image-left-dark.css">
    <link rel="stylesheet" href="../assets/css/FlightReservation/flight.css">
    <link rel="stylesheet" href="../assets/css/Footer-Basic.css">
    <link rel="stylesheet" href="../assets/css/footer-copyright_bar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.1.1/aos.css">
    <link rel="stylesheet" href="../assets/css/mouse.css">
    <link rel="stylesheet" href="../assets/css/Navigation-Clean.css">
    <link rel="stylesheet" href="../assets/css/Swiper-Slider-Card-For-Blog-Or-Product-1.css">
    <link rel="stylesheet" href="../assets/css/Swiper-Slider-Card-For-Blog-Or-Product.css">
    <link rel="stylesheet" href="../assets/css/zdark.css">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#008191">
</head>

<body><header>
    <nav id="flightResaNav">
        <span id="flightResaNavSpan"><a href="../index"><img src="logo-luxair.svg" alt="logo luxair"></a></span>
    </nav>
</header>

<main id="flightResaMain">

    <div class="container">
        <h3> Formulaire de réservation de vols </h3><br>
        <form id="flightResa" method="POST" onsubmit="return searchFlights(flightResa)">
            <div class="flex">
                <label for="flightFrom">Aéroport de départ : </label>
                <input type="text" name="depart" id="autocomplete-airport-1" class="flight" required="" onchange="checkDistance(this)">
                <label for="flightTo">Aéroport d'arrivée : </label>
                <input type="text" name="arrivee" id="autocomplete-airport-2" class="flight" required="" onchange="checkDistance(this)">
                <strong id="distance" class="">...</strong>
                <strong>Km</strong>
            </div>
            <div class="flex">
                <label for="depart">Date de départ : </label>
                <input type="date" name="date" id="depart" class="flight" placeholder="JJ/MM/AAAA" max="2025-12-31" required="">
                <label for="retour">Date de retour : </label>
                <input type="date" name="date" id="retour" class="flight" placeholder="JJ/MM/AAAA" required="">
            </div>
            <div class="flex">
                <label for="adulte">Nombre d'adultes (12 ans et +)</label>
                <input type="number" name="passager" id="adulte" class="nbr" min="0" value="0" required="">
                <label for="enfant">Nombre d'enfants (- de 12 ans)</label>
                <input type="number" name="passager" id="enfant" class="nbr" min="0" value="0" required="">
            </div>
            <div class="flex">
                <label for="eco">Classe éco</label>
                <input type="radio" name="classe" id="eco" class="choixClasse" checked="">
                <label for="affaire">Classe affaire</label>
                <input type="radio" name="classe" id="affaire" class="choixClasse">
                <label for="premiere">Première classe</label>
                <input type="radio" name="classe" id="premiere" class="choixClasse">
            </div>
            <div class="flex" id="divSearch">
                <input type="submit" value="Rechercher" class="flight" id="search">
            </div>
            <div class="reset">
                <input type="reset" value="Effacer" class="flight" id="reset">
            </div>
        </form>
    </div>

    <div class="container" id="hide">

        <form action="" method="post">
            <div class="flex">
                <label for="recap" class="recap">Récapitulatif du vol et des coûts</label>

            </div>
            <div class="flex">
                <textarea name="Récapitulatif" class="recap" id="recap" cols="100" rows="10" disabled="">
                    </textarea>
            </div>
        </form>

    </div>

    <div class="container">
        <div class="flexPaypal">
            <a href="https://paypal.me/mathancois" target="_blank" id="paypal"><input type="image" src="paypalLogo.png" alt="PayPal Checkoput"></a>
        </div>
    </div>


</main>

<footer id="flightResaFooter">


    <p>© 2019 Mathieu François. Tous droits réservés.<br/> <a href="../4eme" style="font-size: 26px;">Retour au site</a></p>

    <script src="flight.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/airport-autocomplete-js@latest/dist/index.browser.min.js"></script>-->
    <script src="autoComplete.js"></script>
    <script>
        AirportInput("autocomplete-airport-1");
        var options = {
            formatting: `<div class="$(unique-result)"
                     single-result" 
                     data-index="$(i)"> 
                   $(IATA) </div>`
        };
        AirportInput("autocomplete-airport-2", options);
        function distance(lat1, lon1, lat2, lon2) {
            var R = 6371e3; // metres
            lat1 = parseFloat(lat1)
            lat2 = parseFloat(lat2)
            lon1 = parseFloat(lon1)
            lon2 = parseFloat(lon2)
            var f1 = lat1.toRadians();
            var f2 = lat2.toRadians();
            var df = (lat2 - lat1).toRadians();
            var dl = (lon2 - lon1).toRadians();
            var a = Math.sin(df / 2) * Math.sin(df / 2) +
                Math.cos(f1) * Math.cos(f2) *
                Math.sin(dl / 2) * Math.sin(dl / 2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            var d = R * c;
            return d;
        }
        if (typeof (Number.prototype.toRadians) === "undefined") {
            Number.prototype.toRadians = function () {
                return this * Math.PI / 180;
            }
        }
        function checkInputData(id) {
            var realId = "autocomplete-airport-" + id
            return ([document.getElementById(realId).getAttribute("data-lat"), document.getElementById(realId).getAttribute(
                "data-lon")])
        }
        function checkDistance(self) {
            console.log("Input changed: " + self["id"])
            setTimeout(function () {
                console.log(self.getAttribute("data-lon"))
                var idChanged = self["id"].slice(-1)
                console.log(checkInputData(1))
                console.log(checkInputData(2))
                if (checkInputData(1)[0] && checkInputData(2)[0]) {
                    var dst = distance(...checkInputData(1), ...
                        checkInputData(2)) / 1000;
                    document.getElementById("distance").innerHTML = parseInt(dst);
                }
            }, 200)
        }
    </script>
</footer>
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="../assets/js/bs-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.1.1/aos.js"></script>
    <script src="../assets/js/2-columns-media-image-video-carousel-map.js"></script>
    <script src="../assets/js/Bold-BS4-Animated-Back-To-Top.js"></script>
    <script src="../assets/js/Circle-Nav.js"></script>
    <script src="../assets/js/FlightReservation/autoComplete.js"></script>
    <script src="../assets/js/FlightReservation/flight.js"></script>
    <script src="../assets/js/Swiper-Slider-Card-For-Blog-Or-Product.js"></script>
</body>

</html>